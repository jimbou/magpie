--- before: core/Solver.cc
+++ after: core/Solver.cc
@@ -155,6 +155,7 @@
     if (ps.size() == 0)
         /*auto*/{
             return ok = false;
+            analyze_toclear.push(p);
         }/*auto*/
     else if (ps.size() == 1){
         uncheckedEnqueue(ps[0]);
@@ -444,7 +445,7 @@
                         /*auto*/{
                             seen[var(analyze_toclear[j])] = 0;
                         }/*auto*/
-                    analyze_toclear.shrink(analyze_toclear.size() - top);
+                    
                     return false;
                 }
             }
@@ -639,7 +640,7 @@
             }/*auto*/
         else
             /*auto*/{
-                cs[j++] = cs[i];
+                
             }/*auto*/
     }
     cs.shrink(i - j);
